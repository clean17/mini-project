<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="shop.mtcoding.project.model.UserSkillRepository">
    
    <select id="findAll" resultType="shop.mtcoding.project.model.UserSkill">
        select * from user_skill_tb
    </select>

    <select id="findById" resultType="shop.mtcoding.project.dto.user.UserResp$UserSkillRespDto">
        select * from user_skill_tb where user_id = #{rDto.userId}
    </select>

    <insert id="insert" useGeneratedKeys="true"  keyProperty="rDto.resumeId">
        insert into user_skill_tb (user_id, skill_name1, skill_name2, skill_name3)
        values ( #{rDto.userId}, #{rDto.skillName1}, #{rDto.skillName2}, #{rDto.skillName3})
    </insert>      
      
    <update id="updateById">
        update user_skill_tb set 
            skill_name1 =  #{rDto.skillName1}, 
            skill_name2 = #{rDto.skillName2}, 
            skill_name3 = #{rDto.skillName3}
            where user_id = #{rDto.userId}
    </update>
    <delete id="deleteById">
        delete from user_skill_tb where user_id = #{uDto.userId}
    </delete>
</mapper>
